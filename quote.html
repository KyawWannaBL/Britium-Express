<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get a Quote | Britium Express</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        :root { 
            --brand-blue: #0d2c54; 
            --brand-orange: #ff6b00; 
            --light-gray: #f8f9fa; 
        }
        
        body { 
            font-family: 'Roboto', sans-serif; 
            color: #333; 
            background-color: #f9f9f9;
        }

        /* Navigation */
        .top-bar { background-color: var(--brand-blue); color: white; padding: 10px 0; font-size: 0.9rem; }
        .navbar { background: white; box-shadow: 0 4px 6px rgba(0,0,0,0.05); padding: 15px 0; }
        .navbar-brand img { height: 70px; width: auto; }
        .nav-link { font-weight: 500; color: #444 !important; margin-left: 15px; text-transform: uppercase; font-size: 0.9rem; transition: 0.3s; }
        .nav-link:hover, .nav-link.active { color: var(--brand-orange) !important; }
        .btn-portal { border: 2px solid var(--brand-blue); color: var(--brand-blue); font-weight: 700; padding: 8px 25px; border-radius: 5px; transition: 0.3s; }
        .btn-portal:hover { background-color: var(--brand-blue); color: white; }

        /* Hero Section */
        .page-hero { 
            background: linear-gradient(rgba(13, 44, 84, 0.9), rgba(13, 44, 84, 0.9)), url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80'); 
            background-size: cover; 
            background-position: center; 
            padding: 80px 0; 
            color: white; 
            text-align: center;
        }

        /* Quote Box */
        .quote-container {
            margin-top: -50px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            z-index: 10;
        }

        .quote-sidebar { background-color: var(--brand-blue); color: white; padding: 40px 30px; }
        .quote-form-area { padding: 40px; }

        .nav-pills .nav-link { color: #555; font-weight: 700; padding: 12px 25px; border-radius: 8px; margin-right: 10px; background: #f1f1f1; }
        .nav-pills .nav-link.active { background-color: var(--brand-orange); color: white; }

        .form-label { font-weight: 600; font-size: 0.9rem; color: var(--brand-blue); }
        .form-control, .form-select { padding: 12px; border-radius: 8px; border: 1px solid #ddd; }
        .form-control:focus, .form-select:focus { border-color: var(--brand-orange); box-shadow: none; }

        .result-box {
            background: #f8fcfd;
            border: 2px dashed #bce0fd;
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            display: none;
        }

        /* Footer */
        footer { background-color: #111; color: #aaa; padding: 80px 0 30px; margin-top: 80px; }
        footer h5 { color: white; font-weight: 700; margin-bottom: 25px; }
        footer a { color: #aaa; text-decoration: none; display: block; margin-bottom: 12px; transition: 0.2s; }
        footer a:hover { color: var(--brand-orange); padding-left: 5px; }

        .float-wa { position: fixed; bottom: 30px; right: 30px; background-color: #25d366; color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 36px; box-shadow: 2px 5px 15px rgba(0,0,0,0.3); z-index: 1000; transition: 0.3s; }
        .float-wa:hover { transform: scale(1.1); background-color: #20b857; }

        /* =========================================
           THERMAL LABEL CSS (57mm)
           ========================================= */
        #shippingLabel {
            width: 57mm; /* Exact Thermal Width */
            background: white;
            padding: 2mm;
            font-family: 'Arial', sans-serif;
            color: black;
            border: 1px solid #ccc;
            margin: 20px auto;
            display: none; /* Hidden until calculated */
        }

        .label-header { text-align: center; border-bottom: 2px solid black; padding-bottom: 5px; margin-bottom: 5px; }
        .label-logo { max-width: 40mm; height: auto; }
        .label-type { font-weight: 900; font-size: 14px; text-transform: uppercase; margin-top: 2px; }
        
        .label-route { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid black; padding-bottom: 5px; margin-bottom: 5px; }
        .route-code { font-size: 18px; font-weight: 900; line-height: 1; }
        .route-arrow { font-size: 14px; }
        
        .label-info { font-size: 10px; line-height: 1.2; margin-bottom: 5px; }
        .label-row { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .fw-b { font-weight: bold; }

        .qr-container { text-align: center; margin: 8px 0; }
        .qr-container img { margin: 0 auto; }

        .label-footer { font-size: 8px; text-align: center; border-top: 1px solid black; padding-top: 2px; font-weight: bold; }

        /* PRINT MEDIA QUERY - ONLY PRINT THE LABEL */
        @media print {
            body * { visibility: hidden; }
            #shippingLabel, #shippingLabel * { visibility: visible; }
            #shippingLabel {
                position: absolute;
                left: 0;
                top: 0;
                width: 57mm;
                border: none;
                margin: 0;
                padding: 0;
            }
            @page { size: 57mm auto; margin: 0mm; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
            <div><span class="me-3"><i class="fas fa-phone-alt me-2"></i> +95 9 897 4477 44</span> <span><i class="fas fa-envelope me-2"></i> info@britiumexpress.com</span></div>
            <div class="mt-2 mt-md-0"><span class="me-3"><i class="fas fa-clock me-2"></i> Mon-Sat: 9:00am - 5:30pm</span></div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/BRITIUM EXPRESS logo.png" alt="Britium Express Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navContent">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="tracking.html">Track & Trace</a></li>
                    <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
                    <li class="nav-item"><a class="nav-link active" href="quote.html">Get Quote</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="news.html">News</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    <li class="nav-item ms-lg-3"><a href="login.html" class="btn btn-portal">Login</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="page-hero">
        <div class="container">
            <h1 class="fw-bold display-5 mb-3">Get A Shipping Quote</h1>
            <p class="lead opacity-75">Instant pricing for Domestic and International Shipments.</p>
        </div>
    </header>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="quote-container row g-0">
                    
                    <div class="col-md-4 quote-sidebar d-none d-md-block">
                        <h4 class="fw-bold mb-4">Why Britium?</h4>
                        <div class="mb-4"><div class="d-flex align-items-center mb-2"><i class="fas fa-check-circle text-warning me-2"></i> <strong>Transparent Pricing</strong></div><p class="small opacity-75 ms-4">No hidden fees. What you see is what you pay.</p></div>
                        <div class="mb-4"><div class="d-flex align-items-center mb-2"><i class="fas fa-shield-alt text-warning me-2"></i> <strong>Secure Handling</strong></div><p class="small opacity-75 ms-4">We treat every parcel with the utmost care.</p></div>
                        <div class="mb-4"><div class="d-flex align-items-center mb-2"><i class="fas fa-headset text-warning me-2"></i> <strong>24/7 Support</strong></div><p class="small opacity-75 ms-4">Need help? Chat with us anytime.</p></div>
                        <div class="mt-5 p-3 rounded bg-white text-dark">
                            <small class="fw-bold text-uppercase text-muted">Need Custom Logistics?</small>
                            <p class="small mb-2">For bulk cargo or special projects.</p>
                            <a href="contact.html" class="btn btn-sm btn-outline-primary w-100 fw-bold">Contact Sales</a>
                        </div>
                    </div>

                    <div class="col-md-8 quote-form-area">
                        <h3 class="fw-bold text-dark mb-4">Calculate Rate</h3>

                        <ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation"><button class="nav-link active" id="pills-domestic-tab" data-bs-toggle="pill" data-bs-target="#pills-domestic" type="button" role="tab"><i class="fas fa-truck me-2"></i> Domestic</button></li>
                            <li class="nav-item" role="presentation"><button class="nav-link" id="pills-international-tab" data-bs-toggle="pill" data-bs-target="#pills-international" type="button" role="tab"><i class="fas fa-plane me-2"></i> International</button></li>
                        </ul>

                        <div class="tab-content" id="pills-tabContent">
                            
                            <div class="tab-pane fade show active" id="pills-domestic" role="tabpanel">
                                <form id="domForm" onsubmit="calcDomestic(event)">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">From (Origin)</label>
                                            <select class="form-select" id="dOrigin" required>
                                                <option value="" selected disabled>Select Origin</option>
                                                <option value="Yangon">Yangon</option>
                                                <option value="Mandalay">Mandalay</option>
                                                <option value="Nay Pyi Taw">Nay Pyi Taw</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">To (Destination)</label>
                                            <select class="form-select" id="dDest" required>
                                                <option value="" selected disabled>Select Destination</option>
                                                <option value="Yangon">Yangon</option>
                                                <option value="Mandalay">Mandalay</option>
                                                <option value="Nay Pyi Taw">Nay Pyi Taw</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Weight (Kg)</label>
                                            <input type="number" class="form-control" id="dWeight" placeholder="e.g. 2.5" step="0.1" required>
                                        </div>
                                        <div class="col-md-6 d-flex align-items-end">
                                            <button type="submit" class="btn btn-warning w-100 fw-bold text-white py-2" style="background-color: var(--brand-orange);">Calculate Price</button>
                                        </div>
                                    </div>
                                </form>

                                <div id="domResult" class="result-box text-center">
                                    <h5 class="fw-bold text-muted text-uppercase mb-1">Estimated Cost</h5>
                                    <h2 class="display-4 fw-bold text-dark mb-0" id="domPrice">0 MMK</h2>
                                    <p class="text-muted small mb-3" id="domDetails">Base rate includes 2kg.</p>
                                    <div class="d-flex justify-content-center gap-2">
                                        <a href="#" id="domBookBtn" target="_blank" class="btn btn-success fw-bold"><i class="fab fa-whatsapp me-2"></i> Book via WhatsApp</a>
                                        <button onclick="window.print()" class="btn btn-outline-dark fw-bold"><i class="fas fa-print me-2"></i> Print Label</button>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="pills-international" role="tabpanel">
                                <form id="intlForm" onsubmit="calcIntl(event)">
                                    <div class="row g-3">
                                        <div class="col-md-12">
                                            <label class="form-label">Destination Country</label>
                                            <select class="form-select" id="iCountry" required>
                                                <option value="" selected disabled>Select Country</option>
                                                <optgroup label="Asia">
                                                    <option value="Thailand">Thailand</option>
                                                    <option value="Japan">Japan</option>
                                                    <option value="South Korea">South Korea</option>
                                                    <option value="Singapore">Singapore</option>
                                                    <option value="Malaysia">Malaysia</option>
                                                </optgroup>
                                                <optgroup label="Americas">
                                                    <option value="USA">USA</option>
                                                </optgroup>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Actual Weight (Kg)</label>
                                            <input type="number" class="form-control" id="iWeight" placeholder="e.g. 5.0" step="0.1" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Divisor (Volume)</label>
                                            <select class="form-select" id="iDivisor">
                                                <option value="5000">Standard (5000)</option>
                                                <option value="6000">Courier (6000)</option>
                                            </select>
                                        </div>
                                        <div class="col-12">
                                            <label class="form-label small text-muted">Dimensions (cm)</label>
                                            <div class="row g-2">
                                                <div class="col-4"><input type="number" class="form-control" id="iL" placeholder="L"></div>
                                                <div class="col-4"><input type="number" class="form-control" id="iW" placeholder="W"></div>
                                                <div class="col-4"><input type="number" class="form-control" id="iH" placeholder="H"></div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4">
                                            <div id="intlError" class="alert alert-danger p-2 small mb-2" style="display:none;"></div>
                                            <button type="submit" class="btn btn-primary w-100 fw-bold py-2" style="background-color: var(--brand-blue);">Get International Quote</button>
                                        </div>
                                    </div>
                                </form>

                                <div id="intlResult" class="result-box text-center">
                                    <div class="row mb-3">
                                        <div class="col-6 border-end">
                                            <small class="text-muted d-block fw-bold">Actual</small>
                                            <span id="dispActual">0 kg</span>
                                        </div>
                                        <div class="col-6">
                                            <small class="text-muted d-block fw-bold">Volumetric</small>
                                            <span id="dispVol">0 kg</span>
                                        </div>
                                    </div>
                                    <h5 class="fw-bold text-muted text-uppercase mb-1">Total Estimated Cost</h5>
                                    <h2 class="display-4 fw-bold text-dark mb-0" id="intlPrice">0 MMK</h2>
                                    <p class="text-muted small mb-3">Chargeable Weight: <span id="dispChargeable" class="fw-bold text-danger"></span></p>
                                    <div class="d-flex justify-content-center gap-2">
                                        <a href="#" id="intlBookBtn" target="_blank" class="btn btn-success fw-bold"><i class="fab fa-whatsapp me-2"></i> Book via WhatsApp</a>
                                        <button onclick="window.print()" class="btn btn-outline-dark fw-bold"><i class="fas fa-print me-2"></i> Print Label</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="shippingLabel">
            <div class="label-header">
                <img src="assets/images/BRITIUM EXPRESS logo.png" alt="Logo" class="label-logo">
                <div class="label-type" id="labelServiceType">STANDARD</div>
            </div>
            
            <div class="label-route">
                <div class="route-code" id="labelOrigin">ORG</div>
                <div class="route-arrow">âœˆ</div>
                <div class="route-code" id="labelDest">DST</div>
            </div>

            <div class="label-info">
                <div class="label-row">
                    <span>Date:</span> <span class="fw-b" id="labelDate">2026-01-01</span>
                </div>
                <div class="label-row">
                    <span>Weight:</span> <span class="fw-b" id="labelWeight">0.00 kg</span>
                </div>
                <div class="label-row">
                    <span>Ref ID:</span> <span class="fw-b" id="labelRef">#Q-0000</span>
                </div>
                <div class="label-row">
                    <span>COD/Price:</span> <span class="fw-b" id="labelPrice">PREPAID</span>
                </div>
            </div>

            <div class="qr-container" id="qrCodeTarget"></div>

            <div class="label-footer">
                BRITIUM VENTURES COMPANY LIMITED<br>
                www.britiumexpress.com
            </div>
        </div>
        </div>

    <section class="py-5 mt-5 bg-white border-top">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h3 class="fw-bold text-dark mb-3">Special Shipment?</h3>
                    <p class="text-muted">For shipments over 100kg, hazardous materials, or complex logistics requirements, please request a custom quotation directly from our sales team.</p>
                    <ul class="list-unstyled text-muted">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Dedicated Account Manager</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Bulk Volume Discounts</li>
                    </ul>
                </div>
                <div class="col-lg-6 text-center">
                    <a href="contact.html" class="btn btn-outline-dark btn-lg px-5">Contact Sales Team</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="text-uppercase text-white">Britium Express</h5>
                    <p class="small">A dedicated delivery arm of Britium Ventures Company Limited.</p>
                </div>
                <div class="col-lg-2 mb-4">
                    <h5 class="text-white">Links</h5>
                    <a href="tracking.html">Track Package</a>
                    <a href="services.html">Services</a>
                    <a href="contact.html">Contact</a>
                </div>
                <div class="col-lg-3 mb-4">
                    <h5 class="text-white">Contact Us</h5>
                    <p class="mb-1"><i class="fas fa-phone me-2"></i> +95 9 897 4477 44</p>
                    <p><i class="fas fa-map-marker-alt me-2"></i> No. 277, East Dagon Township, Yangon.</p>
                </div>
            </div>
            <div class="border-top border-secondary pt-3 mt-3 text-center small">&copy; 2026 Britium Ventures Company Limited.</div>
        </div>
    </footer>

    <a href="https://wa.me/959897447744" class="float-wa"><i class="fab fa-whatsapp"></i></a>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // --- DATA OBJECTS ---
        const domRates = {
            "Yangon-Mandalay": 5000, "Mandalay-Yangon": 5000,
            "Yangon-Nay Pyi Taw": 5000, "Nay Pyi Taw-Yangon": 5000,
            "Nay Pyi Taw-Mandalay": 4000, "Mandalay-Nay Pyi Taw": 4000,
            "Yangon-Yangon": 2000, "Mandalay-Mandalay": 3000, "Nay Pyi Taw-Nay Pyi Taw": 3000
        };

        const intlRates = {
            "Thailand": [{min: 5, max: 10, rate: 10000}, {min: 11, max: 20, rate: 9000}, {min: 21, max: 30, rate: 8000}],
            "Japan": [{min: 5, max: 10, rate: 50000}, {min: 11, max: 20, rate: 47000}, {min: 21, max: 30, rate: 28500}],
            "South Korea": [{min: 5, max: 10, rate: 30000}, {min: 11, max: 20, rate: 17250}, {min: 21, max: 30, rate: 16050}],
            "Singapore": [{min: 5, max: 10, rate: 32000}, {min: 11, max: 30, rate: 43260}],
            "Malaysia": [{min: 3, max: 10, rate: 32000}, {min: 11, max: 30, rate: 32000}],
            "USA": [{min: 5, max: 10, rate: 114000}, {min: 11, max: 20, rate: 750000}, {min: 21, max: 30, rate: 68460}],
            // Added safe defaults for others to avoid crash
            "Germany": [{min: 5, max: 30, rate: 61600}],
            "UK": [{min: 5, max: 30, rate: 105840}],
            "Australia": [{min: 5, max: 30, rate: 74900}],
            "Saudi Arabia": [{min: 5, max: 30, rate: 55300}]
        };

        // --- DOMESTIC LOGIC ---
        function calcDomestic(e) {
            e.preventDefault();
            const origin = document.getElementById('dOrigin').value;
            const dest = document.getElementById('dDest').value;
            const weight = parseFloat(document.getElementById('dWeight').value);

            if(!origin || !dest || isNaN(weight)) return;

            const key = `${origin}-${dest}`;
            let basePrice = domRates[key] || 2500; 
            
            const baseWeight = 2.0;
            const extra = Math.max(0, weight - baseWeight);
            const total = basePrice + (extra * 500);

            // Update UI
            document.getElementById('domPrice').innerText = total.toLocaleString() + " MMK";
            document.getElementById('domDetails').innerText = `From ${origin} to ${dest} (${weight}kg)`;
            
            const msg = `Hello Britium, I would like to ship a ${weight}kg parcel from ${origin} to ${dest}. Quoted Price: ${total} MMK.`;
            document.getElementById('domBookBtn').href = `https://wa.me/959897447744?text=${encodeURIComponent(msg)}`;
            
            document.getElementById('domResult').style.display = 'block';

            // GENERATE LABEL
            generateLabel('DOMESTIC EXPRESS', origin, dest, weight, total + " MMK");
        }

        // --- INTERNATIONAL LOGIC ---
        function calcIntl(e) {
            e.preventDefault();
            const country = document.getElementById('iCountry').value;
            const weight = parseFloat(document.getElementById('iWeight').value);
            const divisor = parseFloat(document.getElementById('iDivisor').value);
            const l = parseFloat(document.getElementById('iL').value) || 0;
            const w = parseFloat(document.getElementById('iW').value) || 0;
            const h = parseFloat(document.getElementById('iH').value) || 0;
            
            const errBox = document.getElementById('intlError');
            const resBox = document.getElementById('intlResult');
            errBox.style.display = 'none';
            resBox.style.display = 'none';

            if(!country || isNaN(weight)) return;

            const vol = (l * w * h) / divisor;
            const chargeable = Math.max(weight, vol);

            // Get Rate
            const slabs = intlRates[country];
            let rate = 0;
            if(slabs) {
                for(let s of slabs) {
                    if(chargeable >= s.min && chargeable <= s.max) {
                        rate = s.rate;
                        break;
                    }
                }
                if(rate === 0) {
                     // Check if too low
                    if (chargeable < slabs[0].min) {
                        errBox.innerText = `Min weight is ${slabs[0].min}kg`;
                        errBox.style.display = 'block'; return;
                    } else {
                        // Fallback rate for heavy
                        rate = slabs[slabs.length-1].rate; 
                    }
                }
            } else {
                 rate = 100000; // Fallback
            }

            const total = chargeable * rate;

            document.getElementById('dispActual').innerText = weight.toFixed(2) + " kg";
            document.getElementById('dispVol').innerText = vol.toFixed(2) + " kg";
            document.getElementById('dispChargeable').innerText = chargeable.toFixed(2) + " kg";
            document.getElementById('intlPrice').innerText = total.toLocaleString() + " MMK";

            const msg = `Hello Britium, requesting booking for ${country}. Weight: ${weight}kg. Quoted: ${total.toLocaleString()} MMK.`;
            document.getElementById('intlBookBtn').href = `https://wa.me/959897447744?text=${encodeURIComponent(msg)}`;

            resBox.style.display = 'block';

            // GENERATE LABEL
            generateLabel('INTERNATIONAL EXP', 'MM', country.substring(0,3).toUpperCase(), chargeable, total.toLocaleString() + " MMK");
        }

        // --- LABEL GENERATOR ---
        function generateLabel(service, origin, dest, weight, price) {
            // 1. Fill Text Data
            document.getElementById('labelServiceType').innerText = service;
            document.getElementById('labelOrigin').innerText = origin.substring(0,3).toUpperCase();
            document.getElementById('labelDest').innerText = dest.substring(0,3).toUpperCase();
            document.getElementById('labelWeight').innerText = parseFloat(weight).toFixed(2) + " kg";
            document.getElementById('labelPrice').innerText = price;
            
            const dateStr = new Date().toISOString().slice(0,10);
            document.getElementById('labelDate').innerText = dateStr;
            
            // Random Ref ID
            const refId = "Q-" + Math.floor(1000 + Math.random() * 9000);
            document.getElementById('labelRef').innerText = refId;

            // 2. Clear old QR
            document.getElementById('qrCodeTarget').innerHTML = "";

            // 3. Generate New QR
            const qrData = `${refId}|${origin}|${dest}|${weight}|${price}`;
            new QRCode(document.getElementById('qrCodeTarget'), {
                text: qrData,
                width: 100,
                height: 100,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });
            
            // 4. Show label temporarily to render QR, then hide (css handles hide)
            document.getElementById('shippingLabel').style.display = 'block';
        }
    </script>

</body>
</html>
